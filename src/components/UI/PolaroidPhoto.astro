---
const { src, alt, caption, rotation = 0, zIndex = 1, index, offsetX = 0, offsetY = 0 } = Astro.props;
---

<div 
  class="polaroid-card absolute w-56 bg-neutral-50 p-3 pb-10 cursor-grab select-none
         shadow-[0_4px_6px_rgba(0,0,0,0.1),0_2px_4px_rgba(0,0,0,0.06),0_10px_20px_rgba(0,0,0,0.15)]
         hover:shadow-[0_10px_20px_rgba(0,0,0,0.2),0_6px_6px_rgba(0,0,0,0.1),0_15px_30px_rgba(0,0,0,0.25)]
         active:cursor-grabbing"
  data-index={index}
  style={`transform: rotate(${rotation}deg); z-index: ${zIndex}; left: ${offsetX}px; top: ${offsetY}px;`}
>
  <div class="w-full aspect-square overflow-hidden bg-neutral-200 mb-2 pointer-events-none
              shadow-[inset_0_2px_8px_rgba(0,0,0,0.15),inset_0_1px_4px_rgba(0,0,0,0.1)]">
    <img src={src} alt={alt} class="w-full h-full object-cover block pointer-events-none" draggable="false" />
  </div>
  <p class="text-center text-sm text-neutral-600 mt-2 leading-relaxed pointer-events-none font-['Courier_New',monospace]">
    {caption}
  </p>
</div>

---
/**
 * Main Header Component
 * Composed of modular subcomponents for navigation, theme toggle, and mobile menu
 */
import Navigation from '@components/header/Navigation.astro';
import HeaderActions from '@components/header/HeaderActions.astro';
import MobileMenu from '@components/header/MobileMenu.astro';
---

<header class="fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-[var(--color-primary-lightest)]/80 border-b border-[var(--color-primary-light)]/30 transition-all duration-300">
  <nav class="max-w-3xl mx-auto px-3 sm:px-4 py-3 sm:py-4 flex justify-between md:justify-between justify-end items-center">
    <Navigation />
    <HeaderActions />
  </nav>
  <MobileMenu />
</header>

<script>
  import { initSmoothScroll, initSectionTracking } from '@utils/navigation';

  // Initialize smooth scrolling for all navigation links
  initSmoothScroll();

  // Initialize section tracking with trophy unlock callback
  initSectionTracking(() => {
    (window as any).unlockTrophy?.('SECTION_EXPLORER');
  });
</script>

---
/**
 * MobileMenuButton Component
 * Hamburger menu button for mobile navigation
 */
---

<button
  id="mobile-menu-btn"
  class="md:hidden p-2 rounded-lg transition-all duration-200 hover:bg-[var(--color-primary-light)]/30"
  aria-label="Toggle menu"
>
  <svg 
    id="menu-open-icon"
    xmlns="http://www.w3.org/2000/svg" 
    class="w-6 h-6" 
    fill="none" 
    viewBox="0 0 24 24" 
    stroke="currentColor"
    style="color: var(--color-primary-dark);"
  >
    <path 
      stroke-linecap="round" 
      stroke-linejoin="round" 
      stroke-width="2" 
      d="M4 6h16M4 12h16M4 18h16" 
    />
  </svg>
  <svg 
    id="menu-close-icon"
    xmlns="http://www.w3.org/2000/svg" 
    class="w-6 h-6 hidden" 
    fill="none" 
    viewBox="0 0 24 24" 
    stroke="currentColor"
    style="color: var(--color-primary-dark);"
  >
    <path 
      stroke-linecap="round" 
      stroke-linejoin="round" 
      stroke-width="2" 
      d="M6 18L18 6M6 6l12 12" 
    />
  </svg>
</button>

<script>
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuOpenIcon = document.getElementById('menu-open-icon');
  const menuCloseIcon = document.getElementById('menu-close-icon');

  mobileMenuBtn?.addEventListener('click', () => {
    const isHidden = mobileMenu?.classList.contains('hidden');
    
    if (isHidden) {
      // Close trophy dropdown if open
      const trophyDropdown = document.getElementById('trophy-dropdown');
      if (trophyDropdown && trophyDropdown.classList.contains('show')) {
        trophyDropdown.classList.remove('show');
        setTimeout(() => trophyDropdown.classList.add('hidden'), 200);
      }

      mobileMenu?.classList.remove('hidden');
      menuOpenIcon?.classList.add('hidden');
      menuCloseIcon?.classList.remove('hidden');
    } else {
      mobileMenu?.classList.add('hidden');
      menuOpenIcon?.classList.remove('hidden');
      menuCloseIcon?.classList.add('hidden');
    }
  });
</script>
